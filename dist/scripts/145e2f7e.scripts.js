"use strict";angular.module("musicTastesApp",["ngCookies","ngResource","ngSanitize","ngRoute","ui.bootstrap","facebook"]).config(["FacebookProvider","$routeProvider",function(a,b){b.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/facebook/",{templateUrl:"views/facebook.html",controller:"authenticationCtrl"}).otherwise({redirectTo:"/"}),a.init("335721413209152")}]);var app=angular.module("musicTastesApp");app.controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma","Borna"]}]),app.controller("authenticationCtrl",["$scope","$timeout","Facebook",function(a,b,c){a.user={},a.logged=!1,a.byebye=!1,a.salutation=!1,a.$watch(function(){return c.isReady()},function(b){b&&(a.facebookReady=!0)}),a.IntentLogin=function(){c.getLoginStatus(function(b){"connected"==b.status?(a.logged=!0,a.me()):a.login()})},a.login=function(){c.login(function(b){"connected"==b.status&&(a.logged=!0,a.me())})},a.me=function(){c.api("/me",function(b){a.$apply(function(){a.user=b})})},a.logout=function(){c.logout(function(){a.$apply(function(){a.user={},a.logged=!1})})},a.$on("Facebook:statusChange",function(c,d){console.log("Status: ",d),"connected"==d.status?a.$apply(function(){a.salutation=!0,a.byebye=!1}):a.$apply(function(){a.salutation=!1,a.byebye=!0,b(function(){a.byebye=!1},2e3)})})}]);